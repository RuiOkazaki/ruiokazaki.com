'use client';

import { Box, BoxComponentProps } from '@mantine/core';
import { FC, useEffect, useState } from 'react';

import { vars } from '@/libs/mantine/theme';

import { styles } from '@/app/(base)/_components/Myself/Myself.css';

const COLOR_OPTIONS = [
  vars.colors.pink[5],
  vars.colors.blue[5],
  vars.colors.green[5],
  vars.colors.lime[5],
  vars.colors.yellow[5],
  vars.colors.orange[5],
] as const;

const getRandomColor = (): string => {
  const randomIndex = Math.floor(Math.random() * COLOR_OPTIONS.length);
  return COLOR_OPTIONS[randomIndex] ?? 'red';
};

type Props = BoxComponentProps;

export const Myself: FC<Props> = ({ ...boxComponentProps }) => {
  const [colors, setColors] = useState({
    body: vars.colors.pink[5],
    background: vars.colors.green[5],
    sclera: 'white',
    border: 'black',
  });

  useEffect(() => {
    const intervalId = setInterval(() => {
      setColors({
        body: getRandomColor(),
        background: getRandomColor(),
        sclera: 'white',
        border: 'black',
      });
    }, 3000);

    return () => clearInterval(intervalId); // コンポーネントがアンマウントされたときにインターバルをクリア
  }, []);

  return (
    <Box p={0} pos={'relative'} {...boxComponentProps}>
      <Box
        className={`${styles.circle} ${styles.animationEaseInOut}`}
        component={'svg'}
        bg={colors.background}
        viewBox="0 0 1100 1100"
        fill="none"
        width={'100%'}
        height={'100%'}
        pos={'absolute'}
        role="img"
        aria-label="RuiOkazaki のアイコン"
      >
        <g>
          {/* 腕 */}
          <path
            className={styles.animationEaseInOut}
            d="M454.26 287.408C446.552 285.527 438.603 286.451 431.671 289.126C433.908 280.707 435.215 271.949 433.992 263.74C433.06 257.493 430.662 251.508 426.131 246.281C421.626 241.084 415.266 236.929 406.853 233.9C390.109 227.871 375.064 229.789 363.475 237.346C355.929 242.267 350.116 249.401 346.282 257.758C342.379 252.251 336.748 248.147 330.71 245.516C320.34 240.997 307.625 240.262 297.595 244.677C285.866 249.837 278.765 258.39 275.234 268.707C271.779 278.805 271.827 290.311 273.641 301.632C276.977 322.449 286.548 344.201 294.474 359.043C279.693 373.479 251.432 401.69 227.287 450.896C201.405 503.64 180.384 580.207 185.188 689.503C190.019 799.412 231.742 860.589 272.894 894.209C293.385 910.949 313.579 920.731 328.682 926.334C336.236 929.137 342.528 930.899 346.965 931.965C349.184 932.498 350.941 932.857 352.163 933.086C352.773 933.201 353.25 933.283 353.584 933.337C353.751 933.365 353.882 933.385 353.976 933.399L354.028 933.407L354.09 933.417L354.125 933.422L354.138 933.423C354.143 933.424 354.147 933.425 354.916 927.979L354.147 933.425L360.558 934.33L360.415 927.857L353.848 632.205L353.848 632.2L353.848 632.197L353.848 632.179L353.846 632.087C353.844 632.005 353.842 631.881 353.839 631.716C353.836 631.534 353.832 631.303 353.828 631.023C353.825 630.795 353.821 630.536 353.817 630.245C353.8 628.949 353.779 627.034 353.766 624.571C353.739 619.645 353.741 612.529 353.858 603.79C354.093 586.305 354.789 562.349 356.63 536.443C358.471 510.52 361.453 482.739 366.241 457.577C370.814 433.541 376.955 412.345 385.051 397.459C402.605 394.563 427.609 386.212 447.844 374.157C458.502 367.807 468.195 360.221 474.74 351.54C481.344 342.781 484.978 332.542 482.55 321.414C478.163 301.277 467.212 290.568 454.26 287.408Z"
            fill={colors.body}
            stroke={colors.border}
            stroke-width="11"
          />
          {/* 腕の縁 */}
          <path
            className={styles.animationEaseInOut}
            d="M1403.53 137.695C1403.53 137.695 1107.43 45.406 723.797 239.329C337.317 434.647 256.06 704.235 221.912 815.19C187.763 926.144 205.755 1173.56 205.755 1217.61C205.755 1261.65 1441.14 1238.88 1441.14 1238.88L1403.53 137.695Z"
            fill={colors.body}
          />
          {/* 体の縁 */}
          <path
            className={styles.animationEaseInOut}
            d="M808.066 1250.53C646.498 1250.53 515.052 1248.97 417.188 1245.91C241.369 1240.38 210.29 1231.29 202.846 1224C201.962 1223.19 201.252 1222.2 200.762 1221.11C200.272 1220.01 200.011 1218.83 199.996 1217.63C199.996 1210.01 199.43 1195.77 198.715 1177.72C195.253 1089.52 187.948 905.968 216.406 813.517L216.937 811.775C234.421 754.96 263.665 659.925 337.143 553.954C426.155 425.568 555.375 317.982 721.2 234.184C809.116 189.746 899.743 156.73 990.567 136.034C1061.73 119.65 1134.45 110.937 1207.47 110.043C1328.97 108.89 1402.19 131.235 1405.25 132.193L1409.17 133.415L1447.12 1244.54L1441.26 1244.65C1438.28 1244.65 1139.62 1250.15 839.698 1250.52L808.066 1250.53ZM211.536 1216.21C214.075 1217.84 225.143 1222.38 272.02 1226.66C306.515 1229.81 355.285 1232.43 416.958 1234.34C520.949 1237.63 663.001 1239.18 839.156 1238.96C1115.96 1238.62 1391.83 1233.96 1435.19 1233.19L1397.91 142.056C1381.13 137.442 1311.36 120.472 1207.03 121.545C1134.9 122.479 1063.07 131.123 992.772 147.328C902.986 167.816 813.374 200.487 726.405 244.439C562.31 327.373 434.534 433.701 346.63 560.53C274.167 665.035 245.246 758.951 227.97 815.155L227.439 816.897C199.557 907.467 206.782 1089.69 210.255 1177.26C210.959 1195.05 211.479 1208.19 211.536 1216.21Z"
            fill={colors.border}
          />
          {/* 白目 */}
          <path
            className={styles.animationEaseInOut}
            d="M382.728 617.322C297.524 617.438 265.719 857.274 385.717 848.172C445.335 843.627 447.678 792.799 447.424 738.429C447.216 702.586 453.933 617.219 382.728 617.322Z"
            fill={colors.sclera}
          />
          <path
            className={styles.animationEaseInOut}
            d="M516.414 611.277C430.472 615.442 414.857 858.877 529.108 847.768C581.791 842.646 603.787 799.132 604.479 737.759C604.93 697.36 580.348 608.174 516.414 611.277Z"
            fill={colors.sclera}
          />
          {/* 目の縁 */}
          <path
            className={styles.animationEaseInOut}
            d="M379.163 854.17C353.773 854.17 333.243 843.107 319.487 821.869C306.446 801.727 299.96 772.76 301.253 740.297C302.407 709.945 310.485 679.086 323.18 655.622C338.632 627.231 359.751 611.554 382.729 611.554H382.856C401.944 611.554 417.408 617.391 428.833 628.858C453.911 654.134 453.484 701.213 453.23 729.349C453.23 732.602 453.172 735.625 453.23 738.371C453.357 766.311 452.791 793.133 444.424 814.105C434.638 838.631 415.573 851.644 386.191 853.882C383.767 854.09 381.436 854.17 379.163 854.17ZM382.729 623.09C357.743 623.09 341.079 646.947 333.37 661.159C310.416 703.428 303.261 775.586 329.204 815.628C341.898 835.24 360.79 844.284 385.268 842.427C438.042 838.412 441.92 796.801 441.643 738.463C441.643 735.683 441.643 732.602 441.643 729.234C441.885 702.897 442.289 658.863 420.593 636.945C411.291 627.566 398.932 623.009 382.809 623.009L382.729 623.09Z"
            fill={colors.border}
          />
          <path
            className={styles.animationEaseInOut}
            d="M521.688 853.917C498.18 853.917 478.492 843.304 464.401 822.919C433.242 777.744 437.12 697.083 460.351 650.085C474.026 622.398 493.818 606.594 516.126 605.509C535.641 604.575 553.136 611.393 568.058 625.801C599.345 655.945 610.504 710.523 610.193 737.84C609.823 770.972 603.395 797.598 591.105 816.967C577.383 838.597 556.702 850.895 529.605 853.525C526.936 853.794 524.297 853.925 521.688 853.917ZM516.691 617.034C503.997 617.645 485.74 624.763 470.702 655.195C459.474 677.899 453.195 708.262 453.461 738.452C453.749 770.015 461.008 797.69 473.899 816.367C487.217 835.632 505.601 844.273 528.544 842.046C551.902 839.739 569.685 829.264 581.399 810.795C592.524 793.249 598.352 768.665 598.71 737.713C599.021 710.442 587.25 660.26 560.107 634.107C547.516 621.994 532.894 616.261 516.691 617.034V617.034Z"
            fill={colors.border}
          />
          {/* 黒目 */}
          <path
            className={styles.animationEaseInOut}
            d="M499.928 649.498C542.835 655.462 548.894 775.6 486.575 766.498C457.816 762.31 452.473 741.118 453.754 710.628C454.596 690.555 465.121 644.699 499.928 649.498Z"
            fill={colors.border}
          />
          <path
            className={styles.animationEaseInOut}
            d="M357.147 650.731C396.05 656.107 401.555 765.054 345.029 756.864C318.971 753.068 314.124 733.861 315.278 706.209C316.04 687.958 325.584 646.371 357.147 650.731Z"
            fill={colors.border}
          />
          {/* 口 */}
          <path
            className={styles.animationEaseInOut}
            d="M400.841 1031.21C365.711 1031.21 350.143 1011.18 347.431 990.829C344.834 971.298 353.444 956.74 373.074 947.338C363.519 944.419 355.763 939.435 350.443 932.617C343.011 923.066 341.28 911.045 345.573 898.793C349.508 887.58 356.525 879.955 366.415 876.148C383.218 869.699 403.426 876.54 412.727 881.616C414.071 882.349 415.068 883.585 415.5 885.053C415.932 886.521 415.763 888.1 415.03 889.443C414.297 890.787 413.06 891.784 411.591 892.215C410.123 892.647 408.543 892.478 407.199 891.745C400.16 887.903 383.449 881.962 370.558 886.923C363.876 889.484 359.272 894.617 356.467 902.612C353.467 911.16 354.54 919.086 359.549 925.534C367.281 935.478 382.907 940.197 402.399 938.478C403.881 938.337 405.361 938.775 406.528 939.7C407.696 940.625 408.46 941.965 408.661 943.441C408.862 944.916 408.485 946.412 407.608 947.616C406.731 948.819 405.423 949.637 403.957 949.899C359.929 958.043 357.137 976.293 358.868 989.306C361.857 1011.76 381.949 1022.76 412.797 1018.92C413.551 1018.82 414.319 1018.87 415.054 1019.06C415.79 1019.26 416.48 1019.6 417.084 1020.06C417.688 1020.53 418.194 1021.1 418.573 1021.76C418.952 1022.42 419.196 1023.15 419.292 1023.91C419.388 1024.66 419.334 1025.43 419.132 1026.16C418.93 1026.9 418.585 1027.59 418.116 1028.19C417.647 1028.79 417.065 1029.29 416.401 1029.66C415.738 1030.03 415.007 1030.27 414.251 1030.36C409.803 1030.93 405.324 1031.21 400.841 1031.21Z"
            fill={colors.border}
          />
        </g>
      </Box>
    </Box>
  );
};
